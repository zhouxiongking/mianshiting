function a(){var a=window.location.search.split("=")[1];a&&parseInt(a)>0&&$.ajax({url:"/article-json/loadPreAndNext",data:{articleId:a},dataType:"json",success:function(a){e(a.preArticle,a.nextArticle)}})}function e(a,e){var t=$("#pre"),s=$("#next");a&&a.id?(t.text(a.title),t.attr("href","/articles/?articleId="+a.id)):(t.text("没有了"),t.attr("href","javascript:;")),e&&e.id?(s.text(e.title),s.attr("href","/articles/?articleId="+e.id)):(s.text("没有了"),s.attr("href","javascript:;"))}function t(){var a=window.location.search.split("=")[1];a&&parseInt(a)>0&&$.ajax({url:"/article-json/loadArticleDetail",data:{articleId:a},dataType:"json",success:function(a){s(a.article,a.reading)}})}function s(a){var e=$(".con-article");e.empty(),e.append(a.content)}function i(){$(window).scroll(function(){$(this).scrollTop()>=200?($(".side-btns-wrap").addClass("show"),$(".side-btns-wrap").removeClass("hide")):($(".side-btns-wrap").addClass("hide"),$(".side-btns-wrap").removeClass("show"))})}function l(){$(".side-btns-top-btn").click(function(){$("html, body").animate({scrollTop:0},500)})}function c(){$("#search-btn").click(function(){var a=$("#search-input").val();a&&a.trim().length&&($(".loading").show(),r(a,1,"search"))})}function r(a,e,t){$.ajax({url:"/article-json/loadArticlesByKeyword",data:{keyword:a,pageNo:e},dataType:"json",success:function(a){j(a.articleList,e),S(a.articleList,t)}})}function n(){$(".toggle-search").click(function(){$("i",this).toggleClass("fa-search fa-remove"),$(".site-search").toggleClass("opacity-0 opacity-1")})}function o(){$.ajax({url:"/article-json/loadHotLabels",dataType:"json",success:function(a){u(a.labelList)}})}function u(a){for(var e=$(".hot-label"),t=[],s=0;s<a.length;s++)t.push('<li><a href="/html?category='+a[s].name+'">'+a[s].name+"（"+a[s].counts+"）</a></li>");e.append($(t.join("")))}function h(){$.ajax({url:"/article-json/loadRecentArticles",dataType:"json",success:function(a){m(a.recentArticleList,"recent")}})}function p(){$.ajax({url:"/article-json/loadHotArticles",dataType:"json",success:function(a){m(a.hotArticleList,"hot")}})}function m(a,e){var t;t="hot"==e?$(".hot-articles"):$(".recommend-articles");for(var s=[],i=0;i<a.length;i++)s.push('<li><div class="sideshow">'),s.push('<a href="/articles/?articleId='+a[i].id+'" target="_ablank" title="'+a[i].title+'">'),s.push('<img width="80" height="60" src="'+a[i].url+'" class="icon wp-post-image" alt="'+a[i].title+'" title="'+a[i].title+'"></a>'),s.push('<a href="/articles/?articleId='+a[i].id+'" target="_ablank" title="'+a[i].title+'">'+a[i].title+"</a> "),s.push('<span class="datetime">'+a[i].uploadtime+"</span>"),s.push("</div></li>");t.append(s.join(""))}function d(){var a=window.location.search,e=window.location.pathname,t=a.split("=")[1],s=$(".navbar-collapse"),i=[];i.push("<ul>"),"/"==e?i.push('<li class="menu-item current_page_item"><a href="/">首页</a></li>'):i.push('<li class="menu-item"><a href="/">首页</a></li>'),["basic","Javascript","CSS3","HTML5"].join().indexOf(t)>=0?i.push('<li class="menu-item current_page_item"><a href="/html/?category=basic">基础教学</a>'):i.push('<li class="menu-item "><a href="/html/?category=basic">基础教学</a>'),i.push('<ul class="sub-menu">'),i.push('<li class="sub-menu-item"><a href="/html/?category=Javascript">Javascript</a></li>'),i.push('<li class="sub-menu-item"><a href="/html/?category=CSS3">CSS3</a></li>'),i.push('<li class="sub-menu-item"><a href="/html/?category=HTML5">HTML5</a></li>'),i.push("</ul></li>"),["advance","ES6"].join().indexOf(t)>=0?i.push('<li class="menu-item current_page_item"><a href="/html/?category=advance">进阶教学</a>'):i.push('<li class="menu-item "><a href="/html/?category=advance">进阶教学</a>'),i.push('<ul class="sub-menu">'),i.push('<li class="sub-menu-item"><a href="/html/?category=ES6">ES6</a></li>'),i.push("</ul></li>"),["framework","Vue"].join().indexOf(t)>=0?i.push('<li class="menu-item current_page_item"><a href="/html/?category=framework">框架教学</a>'):i.push('<li class="menu-item "><a href="/html/?category=framework">框架教学</a>'),i.push('<ul class="sub-menu">'),i.push('<li class="sub-menu-item"><a href="/html/?category=Vue">Vue全家桶</a></li>'),i.push("</ul></li>"),["tool","Git","Webpack"].join().indexOf(t)>=0?i.push('<li class="menu-item current_page_item"><a href="/html/?category=tool">工具教学</a>'):i.push('<li class="menu-item "><a href="/html/?category=tool">工具教学</a>'),i.push('<ul class="sub-menu">'),i.push('<li class="sub-menu-item"><a href="/html/?category=Git">Git教学</a></li>'),i.push('<li class="sub-menu-item"><a href="/html/?category=Webpack">Webpack教学</a></li>'),i.push("</ul></li>"),e.indexOf("liuyan")>=0?i.push('<li class="menu-item current_page_item"><a href="/liuyan/">给我留言</a>'):i.push('<li class="menu-item "><a href="/liuyan/">给我留言</a>'),i.push('<ul class="sub-menu"></ul></li>'),e.indexOf("fm")>=0?i.push('<li class="menu-item current_page_item"><a href="/fm/">关于博主</a>'):i.push('<li class="menu-item "><a href="/fm/">关于博主</a>'),i.push('<ul class="sub-menu"></ul></li>'),i.push("</ul>"),s.append($(i.join("")))}function f(){$(".shield_down_div").click(function(){$(".video-play").hide(),$(".shield_down_div").hide()})}function g(){$("#slide1_s0, .play").click(function(){$(".shield_down_div").show(),$(".video-play").show()})}function y(){$("#get-more").click(function(){v()})}function v(){var a=$("#search-input").val();if(a&&a.trim().length){var e=$("#currentPageNo").val();r(a,s=parseInt(e)+1,"more")}else{var t=window.location.pathname,s=(e=$("#currentPageNo").val(),parseInt(e)+1);$(".loading").show(),t.indexOf("html")>=0?w(s,"more"):_(s,"more")}}function b(){var a=window.location.pathname;$(".loading").show(),a.indexOf("html")>=0?w(1,"classify"):_(1)}function w(a,e){var t=window.location.search.split("=")[1];$.ajax({url:"/article-json/loadArticleByCategory",data:{pageNo:a,category:t},dataType:"json",success:function(s){j(s.articleList,a),S(s.articleList,e),x(t)}})}function j(a,e){$(".loading").hide(),a&&a.length&&$("#currentPageNo").val(e)}$(function(){t(),a()}),$(function(){d(),p(),h(),o(),n(),c(),i(),l()}),$(function(){b(),y(),g(),f()});var k={basic:["基础教学",""],advance:["进阶教学",""],framework:["框架教学",""],tool:["工具教学",""],Javascript:["基础教学","Javascript"],HTML5:["基础教学","HTML5"],CSS3:["基础教学","CSS3"],ES6:["进阶教学","ES6"],Vue:["框架教学","Vue全家桶"],Git:["工具教学","Git教学"],Webpack:["工具教学","webpack教学"]};function x(a){var e=$("#current-first"),t=$("#current-second");switch(e.text(k[a][0]),t.text(k[a][1]),a){case"basic":case"advance":case"framework":case"tool":e.attr("href","/html/?category="+a);break;case"Javascript":case"HTML5":case"CSS3":e.attr("href","/html/?category=basic"),t.attr("href","/html/?category="+a);break;case"ES6":e.attr("href","/html/?category=advance"),t.attr("href","/html/?category="+a);break;case"Vue":e.attr("href","/html/?category=framework"),t.attr("href","/html/?category="+a);break;case"Git":case"Webpack":e.attr("href","/html/?category=tool"),t.attr("href","/html/?category="+a)}}function _(a,e){$.ajax({url:"/article-json/loadArticleByPage",data:{pageNo:a},dataType:"json",success:function(t){j(t.articleList,a),S(t.articleList,e)}})}function S(a,e){var t=$(".articles"),s=[];a&&a.length?$(".no-more").hide():("search"==e||"classify"==e?$(".no-more").text("抱歉，没找到相关文章~~~~(>_<)~~~~"):$(".no-more").text("没有更多了..."),$(".no-more").show(),$("#get-more").hide());for(var i=0;i<a.length;i++)s.push('<div class="block">'),s.push('<h2><span class="category">'),s.push('<a href="/html?category='+a[i].category+'" rel="category tag">'+a[i].category+"</a>"),s.push('<i class="fa fa-caret-right"></i></span>'),s.push('<a href="/articles?articleId='+a[i].id+'" target="_ablank">'+a[i].title+"</a></h2>"),s.push('<div class="clear"></div>'),a[i].url&&(s.push('<div class="viewimg">'),s.push('<a href="/articles?articleId='+a[i].id+'" target="_ablank" class="ipic" title='+a[i].title+">"),s.push("<img src="+a[i].url+" alt="+a[i].title+' class="thumbnail">'),s.push('<span class="shine" style="background-position: 160px 50%;">&nbsp;</span>'),s.push("</a></div>")),s.push('<div class="preview">'+a[i].description+"</div>"),s.push('<div class="preem">'),s.push('<span><i class="fa fa-clock-o"></i>'+a[i].uploadtime+"</span>"),s.push('<span><i class="fa fa-user"></i><a href="#">'+a[i].username+"</a></span>"),s.push('<span><i class="fa fa-comment-o"></i>'),s.push('<a href="#" class="ds-thread-count" data-thread-key="156">21</a></span>'),s.push('<span><i class="fa fa-eye"></i>'+a[i].clicks+"</span>"),s.push("<span></span>"),s.push('<span class="more">'),s.push('<a href="/articles?articleId='+a[i].id+'" title="这个没有略缩图，不会显示前面的图片！">阅读详情</a>'),s.push("</span></div></div>");"more"!==e&&t.empty(),t.append($(s.join("")))}